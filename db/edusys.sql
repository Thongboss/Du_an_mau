CREATE DATABASE EDUSYS

IF OBJECT_ID('NHANVIEN') IS NOT NULL
  DROP TABLE NHANVIEN
GO
CREATE TABLE NHANVIEN
(
 MANV   VARCHAR(10) NOT NULL,
 MATKHAU NVARCHAR(15) NULL,
 HOTEN   NVARCHAR(30) NULL,
 VAITRO  BIT  NULL,
 CONSTRAINT PK_NHANVIEN PRIMARY KEY(MANV)
)

IF OBJECT_ID('NGUOIHOC') IS NOT NULL
  DROP TABLE NGUOIHOC
GO
CREATE TABLE NGUOIHOC
(
 MANH VARCHAR(10) NOT NULL,
 HOTEN  NVARCHAR(30) NULL,
 GIOITINH  BIT NULL,
 NGAYS  DATETIME NULL,
 DT   VARCHAR(15) NULL,
 EMAIL  NVARCHAR(50) NULL,
 GHICHU  NVARCHAR(100) NULL,
 MANV   VARCHAR(10) NULL,
 NGAYDK  DATETIME NULL,
 CONSTRAINT PK_NGUOIHOC PRIMARY KEY(MANH),
 CONSTRAINT FK_NHANVIEN_NGUOIHOC FOREIGN KEY(MANV) REFERENCES NHANVIEN ON DELETE NO ACTION ON UPDATE CASCADE
)

IF OBJECT_ID('CHUYENDE') IS NOT NULL
  DROP TABLE CHUYENDE
GO
CREATE TABLE CHUYENDE
(
 MACD  VARCHAR(10) NOT NULL,
 TENCD NVARCHAR(50) NULL,
 HOCPHI FLOAT NULL,
 THOILUONG INT NULL,
 HINH NVARCHAR(50) NULL,
 MOTA NVARCHAR(100) NULL,
 CONSTRAINT PK_CHUYENDE PRIMARY KEY(MACD)
)

IF OBJECT_ID('KHOAHOC') IS NOT NULL
  DROP TABLE KHOAHOC
GO
CREATE TABLE KHOAHOC
(
 MAKH  VARCHAR(10) NOT NULL,
 MACD VARCHAR(10) NULL,
 HOCPHI  FLOAT NULL,
 THOILUONG INT NULL,
 NGAYKG  DATETIME NULL,
 GHICHU   NVARCHAR(100) NULL,
 NGAYTAO  DATETIME NULL,
 MANV  VARCHAR(10) NULL,
 CONSTRAINT PK_KHOAHOC PRIMARY KEY(MAKH),
 CONSTRAINT FK_CHUYENDE_KHOAHOC FOREIGN KEY(MACD) REFERENCES CHUYENDE ON DELETE NO ACTION ON UPDATE CASCADE,
 CONSTRAINT FK_NHANVIEN_KHOAHOC FOREIGN KEY(MANV) REFERENCES NHANVIEN ON DELETE NO ACTION ON UPDATE CASCADE
)

IF OBJECT_ID('HOCVIEN') IS NOT NULL
  DROP TABLE HOCVIEN
GO
CREATE TABLE HOCVIEN
(
 MAHV VARCHAR(10) NOT NULL,
 MAKH VARCHAR(10)  NULL,
 MANH VARCHAR(10) NULL,
 DIEM FLOAT NULL,
 CONSTRAINT PK_HOCVIEN PRIMARY KEY(MAHV),
 CONSTRAINT FK_KHOAHOC_HOCVIEN FOREIGN KEY(MAKH) REFERENCES KHOAHOC ON DELETE NO ACTION ON UPDATE CASCADE,
 CONSTRAINT FK_NGUOIHOC_HOCVIEN FOREIGN KEY(MANH) REFERENCES NGUOIHOC
)

---CHÈN DỮ LIỆU
INSERT INTO NHANVIEN VALUES('MNV13001',N'NV123',N'VÕ HỮU THÔNG',1),
                           ('MNV13002',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13003',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13004',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13005',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13006',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13007',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13008',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13009',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13010',N'NV123',N'VÕ HỮU THÔNG',1),
                           ('MNV13011',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13012',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13013',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13014',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13015',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13016',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13017',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13018',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13019',N'NV123',N'VÕ HỮU THÔNG',1),
                           ('MNV13020',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13021',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13022',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13023',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13024',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13025',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13026',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13027',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13028',N'NV123',N'VÕ HỮU THÔNG',1),
                           ('MNV13029',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13030',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13031',N'NV123',N'TRẦN THỊ THU THẢO',0),
						   ('MNV13032',N'NV123',N'NGUYỄN NGỌC ĐẠI',0),
						   ('MNV13033',N'NV123',N'TRẦN VIỆT HOÀNG',1),
						   ('MNV13034',N'NV123',N'VI HOÀNG VÂN',0),
						   ('MNV13035',N'NV123',N'TRẦN THỊ THU THẢO',0)
INSERT INTO CHUYENDE VALUES('MACD01',N'LẬP TRÌNH C++',15000000,45,N'images/dev-c.JPG',N'LẬP TRÌNH C++ CƠ BẢN ĐẾN NÂNG CAO'),
                           ('MACD02',N'LẬP TRÌNH JAVA',25000000,45,N'images/logoJava.PNG',N'LẬP TRÌNH JAVA CƠ BẢN ĐẾN NÂNG CAO'),
						   ('MACD03',N'TIN HỌC VĂN PHÒNG',15000000,30,N'images/tin.PNG',N'THÀNH THẠO WORD, EXCEL, POWERPOINT'),
						   ('MACD04',N'LẬP TRÌNH WEBSITE',25000000,45,N'images/web.JPG',N'LẬP TRÌNH WEBSITE CƠ BẢN ĐẾN NÂNG CAO'),
						   ('MACD05',N'HỆ QUẢN TRỊ CSDL',25000000,45,N'images/sql.PNG',N'THIẾT KẾ VÀ XÂY DỰNG CSDL TỪ CƠ BẢN ĐẾN NÂNG CAO')
INSERT INTO NGUOIHOC VALUES('MNH001',N'TRỆU VĂN TRÁC',1,'06/09/1993','0352741493',N'TRACTV@GMAIL.COM',N'KHÔNG','MNV13001','04/12/2019'),
                           ('MNH002',N'CHÂU TINH TRÌ',1,'03/10/1997','0352741633',N'TRICT@GMAIL.COM',N'KHÔNG','MNV13001','04/12/2019'),
						   ('MNH003',N'THẨM LỆ DĨNH',0,'02/02/1994','0352745268',N'DINHTL@GMAIL.COM',N'KHÔNG','MNV13003','03/10/2020'),
						   ('MNH004',N'NGUYỄN VĂN TOÀN',1,'09/09/1993','0353581393',N'TOANNV@GMAIL.COM',N'KHÔNG','MNV13003','01/10/2020'),
						   ('MNH005',N'TRIỆU THU TRANG',0,'06/06/1999','0348262478',N'TRANGNT@GMAIL.COM',N'KHÔNG','MNV13004','04/05/2019'),
						   ('MNH006',N'HÀ NAM NINH',1,'03/07/2000','0326113998',N'NINHHN@GMAIL.COM',N'KHÔNG','MNV13004','01/11/2020'),
						   ('MNH007',N'NGUYỄN THỊ HOA',0,'05/05/1998','0341982574',N'HOANT@GMAIL.COM',N'KHÔNG','MNV13005','04/03/2021'),
						   ('MNH008',N'HÀ THỊ NGUYỆT TRÚC',0,'06/08/1997','0374288341',N'TRUCHTN@GMAIL.COM',N'KHÔNG','MNV13005','06/02/2021'),
						   ('MNH009',N'HỒ NGỌC ĐÀM',1,'06/09/1995','0364377377',N'DAMHN@GMAIL.COM',N'KHÔNG','MNV13003','04/10/2020'),
						   ('MNH010',N'NGUYỄN HƯƠNG QUỲNH',0,'06/03/2001','0314142379',N'QUYNHNH@GMAIL.COM',N'KHÔNG','MNV13005','04/05/2021')
INSERT INTO KHOAHOC VALUES('MKH001','MACD05',23000000,43,'10/04/2020',N'KHÔNG','09/03/2020','MNV13001'),
                          ('MKH002','MACD04',26000000,45,'10/04/2019',N'KHÔNG','09/03/2019','MNV13003'),
						  ('MKH003','MACD02',25000000,45,'10/04/2021',N'KHÔNG','09/03/2021','MNV13002'),
						  ('MKH004','MACD03',16000000,30,'10/04/2020',N'KHÔNG','09/03/2020','MNV13004'),
						  ('MKH005','MACD01',15000000,43,'10/04/2020',N'KHÔNG','09/03/2020','MNV13005')
INSERT INTO HOCVIEN VALUES('HV0001','MKH003','MNH008',7.8),
                          ('HV0002','MKH003','MNH001',8.2),
						  ('HV0003','MKH001','MNH004',6.5),
						  ('HV0004','MKH001','MNH003',7.5),
						  ('HV0005','MKH002','MNH001',8.5),
						  ('HV0006','MKH002','MNH002',6.3),
						  ('HV0007','MKH005','MNH009',7.7),
						  ('HV0008','MKH005','MNH003',5.3),
						  ('HV0009','MKH004','MNH004',8.6),
						  ('HV0010','MKH004','MNH009',7.1)

SELECT*FROM NHANVIEN
SELECT*FROM CHUYENDE
SELECT*FROM NGUOIHOC
SELECT*FROM KHOAHOC
SELECT*FROM HOCVIEN

DELETE NHANVIEN
DELETE CHUYENDE
DELETE NGUOIHOC
DELETE KHOAHOC
DELETE HOCVIEN


